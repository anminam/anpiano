(this.webpackJsonpanpiano=this.webpackJsonpanpiano||[]).push([[0],{23:function(e,n,t){e.exports=t.p+"static/media/lion.210fda4e.png"},29:function(e,n,t){e.exports=t(51)},50:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var a=t(4),r=t.n(a),c=t(17),i=t.n(c),o=t(21),l=t(5),s=t(0),u=t(1),m=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"makeScale",value:function(e){return this.sacleWhite.map((function(n){return n+e}))}},{key:"makeScaleAll",value:function(e){var n=this,t=[];return this.sacleWhite.forEach((function(a){t.push(a+e),n.sacleBlack.includes(a)&&t.push(a+"#"+e)})),t}},{key:"getKeyTones",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n)return this.makeScaleAll(e);for(var t=[],a=e;a<=n;a++)t=[].concat(Object(l.a)(t),Object(l.a)(this.makeScaleAll(a)));return t}},{key:"initTones",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.getKeyTones(n,t),r=[];return a.forEach((function(e){r.push({tone:e,isValue:!1})})),r}},{key:"getScale5",value:function(e){var n={C3:["C3","D3","E3","F3","G3"],"C#3":["C#3","D#3","F3","F#3","G#3"]},t=[];return n.hasOwnProperty(e)&&((t=n[e]).push(t[3]),t.push(t[2]),t.push(t[1]),t.push(t[0])),t}},{key:"getKeyToTone",value:function(n){var t;return e.keyMapObj.hasOwnProperty(n)&&(t=e.keyMapObj[n]),t}},{key:"getKeyByTone",value:function(e){var n=this;return Object.keys(this.keyMapObj).find((function(t){return n.keyMapObj[t]===e}))}},{key:"getBlackPosition",value:function(e){if(!e.includes("#"))return 0;var n=e.replace("#",""),t=document.querySelector("[data-tone=".concat(n,"]"));return((null===t||void 0===t?void 0:t.offsetLeft)||0)+this.positionStart}},{key:"isPrime",value:function(e){return!e.includes("E")&&!e.includes("B")}}]),e}();m.sacleWhite=["C","D","E","F","G","A","B"],m.sacleBlack=["C","D","F","G","A"],m.keyMapObj={a:"C3","\u3141":"C3",w:"C#3","\u3148":"C#3",s:"D3","\u3134":"D3",e:"D#3",d:"E3",f:"F3",t:"F#3",g:"G3",y:"G#3",h:"A3",u:"A#3",j:"B3",k:"C4",o:"C#4",l:"D4",p:"D#4",";":"E4","'":"F4","]":"F#4"},m.positionStart=30;var f=function(e){return{type:"PIANO_TRIGGER",payload:e}},p=function(e){return{type:"PIANO_RELEASE",payload:e}},d=function(e,n){return{type:"SET_CONFIG",payload:{name:e,value:n}}},v=t(7),b=function(){var e=Object(v.c)((function(e){return e.piano.tones})),n=Object(v.b)(),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;n(f(e)),setTimeout((function(){n(p(e))}),t)},a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&e(),setInterval(e,n)};return{tones:e,downKey:function(e){n(f(e))},upKey:function(e){n(p(e))},autoDown:t,triggerAttackRelease:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(Array.isArray(e))var c=Object(l.a)(e).reverse(),i=a((function(){var e=c.pop();e?t(e):clearInterval(i)}),r,!0);else t(e,r)}}},h=t(6),E=new(t(28).a)({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination(),y=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"trigger",value:function(e){E.triggerAttackRelease(e,"8n")}},{key:"triggerAttackRelease",value:function(e,n,t,a){}}]),e}(),g=function(e){var n=e.tone,t=e.isActive,c=e.onMouseDown,i=e.onMouseUp,o=Object(v.c)((function(e){return e.piano.config.isTonePrint})),l=Object(v.c)((function(e){return e.piano.config.isKeyboradPrint})),s=Object(a.useState)(),u=Object(h.a)(s,2),f=u[0],p=u[1],d=Object(a.useState)(m.isPrime(n)),b=Object(h.a)(d,1)[0];Object(a.useEffect)((function(){p(m.getBlackPosition(n))}),[n]);var E="key ".concat(n.includes("#")?"black":"white"," ").concat(b?"prime":"","\n  ").concat(t?"active":"");return Object(a.useEffect)((function(){t&&y.trigger(n)}),[t]),r.a.createElement("div",{className:E,style:{left:f},onMouseDown:function(){return c(n)},onMouseUp:function(){return i(n)},"data-tone":n},r.a.createElement("div",{className:"label"},l&&r.a.createElement("div",{className:"key__key_name"},m.getKeyByTone(n)),o&&r.a.createElement("div",{className:"key__tone_name"},n)))},k=function(e){Object(o.a)(e);var n=b(),t=n.tones,a=n.downKey,c=n.upKey,i=function(e){var n=m.getKeyToTone(e);if(!n)return null;var a=null===t||void 0===t?void 0:t.findIndex((function(e){return e.tone===n})),r=t[a];return r?r.tone:null},l=function(e){a(e)},s=function(e){c(e)};return r.a.createElement("div",{className:"piano-kyes",onKeyPress:function(e){var n=i(e.key);n&&a(n)},onKeyUp:function(e){var n=i(e.key);n&&c(n)},tabIndex:0},r.a.createElement("div",{className:"piano-kyes__header"},r.a.createElement("h2",null,"Anminam's Piano")),r.a.createElement("div",{className:"piano-kyes__whites"},t&&t.map((function(e){return r.a.createElement(g,{key:e.tone,tone:e.tone,onMouseDown:l,onMouseUp:s,isActive:e.isValue})}))))},O=function(e){var n=e.id,t=e.onChanged,a=e.text,c=e.value;return r.a.createElement("div",{className:"checkbox"},r.a.createElement("div",{className:"checkbox__wapper"},r.a.createElement("div",{className:"checkbox__container"},r.a.createElement("div",{className:"toggle"},r.a.createElement("input",{type:"checkbox",name:"toggle",className:"check-checkbox",id:n,checked:c,onChange:t}),r.a.createElement("label",{className:"check-label",htmlFor:n},r.a.createElement("div",{id:"background"}),r.a.createElement("span",{className:"face"},r.a.createElement("span",{className:"face-container"},r.a.createElement("span",{className:"eye left"}),r.a.createElement("span",{className:"eye right"}),r.a.createElement("span",{className:"mouth"}))))))),r.a.createElement("p",{className:"checkbox__label"},a))},j=function(){var e=Object(v.b)(),n=Object(v.c)((function(e){return e.piano.config}));return r.a.createElement("div",{className:"piano_config container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(O,{id:"isPrintBox",value:n.isTonePrint,onChanged:function(n){var t=n.target.checked;e(d("isTonePrint",t))},text:"\uc74c\uacc4\ubcf4\uc774\uae30"})),r.a.createElement("li",null,r.a.createElement(O,{id:"isKeyboardPrintCheckBox",value:n.isKeyboradPrint,onChanged:function(n){var t=n.target.checked;e(d("isKeyboradPrint",t))},text:"\ud0a4\ubcf4\ub4dc \ubcf4\uc774\uae30"})),r.a.createElement("li",null,r.a.createElement(O,{id:"isViewLionCheckBox",value:n.isViewLion,onChanged:function(n){return e(d("isViewLion",n.target.checked))},text:"\ub77c\uc774\uc5b8 \ubcf4\uc774\uae30"}))))},C=t(10),N=t(11),A=t(23),x=t.n(A);function w(){var e=Object(C.a)(["\n  width: 100%;\n"]);return w=function(){return e},e}var D=N.a.img(w()),_=function(e){var n=e.className;e.size;return r.a.createElement("div",{className:n},r.a.createElement(D,{src:x.a}))};function F(){var e=Object(C.a)(["\n  width: ",";\n  height: ",";\n  background: radial-gradient(\n    50% 50%,\n    rgba(150, 150, 150, 1),\n    rgba(150, 150, 150, 0.05)\n  );\n  position: absolute;\n  bottom: 4px;\n  left: calc(50% - "," / 2);\n  // animation-name: ",";\n  animation-duration: ",";\n  animation-direction: alternate;\n  animation-timing-function: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n  animation-iteration-count: infinite;\n"]);return F=function(){return e},e}function P(){var e=Object(C.a)(["\n  width: ",";\n  position: absolute;\n  bottom: 10px;\n  animation-name: ",";\n  animation-duration: ",";\n  animation-direction: alternate;\n  animation-timing-function: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n  // animation-iteration-count: unset;\n"]);return P=function(){return e},e}function T(){var e=Object(C.a)(["\n  width: ",";\n  min-width: ",";\n  background-color: black;\n  position: relative;\n"]);return T=function(){return e},e}function S(){var e=Object(C.a)(["\n  from {\n    transform: scale(0.2, 0.5);\n  }\n  to {\n    transform: scale(1.5, 0.8);\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(C.a)(["\n  0%   {transform: translatey(0px);}\n  20%  {transform: translatey(-100px);}\n  25%  {transform: translatey(-110px);}\n  80%  {transform: translatey(0px);}\n  82%  {transform: translatey(-5px);}\n  90%  {transform: translatey(0px);}\n  92%  {transform: translatey(-3px);}\n  100% {transform: translatey(0);}\n"]);return I=function(){return e},e}var K="".concat(Math.round(9.6),"px"),B=Object(N.b)(I()),M=Object(N.b)(S()),G=N.a.div(T(),"60px","60px"),R=Object(N.a)(_)(P(),"60px",B,"1s"),V=N.a.div(F(),"60px",K,"60px",M,"1s");var L=function(){var e=Object(v.c)((function(e){return e.piano.config.isViewLion}));return r.a.createElement(G,{className:e?"":"none"},r.a.createElement(R,{className:"lion",size:"60px"}),r.a.createElement(V,null))},U=function(e){var n=e.text,t=e.onClick;return r.a.createElement("button",{className:"mini",onClick:t},r.a.createElement("span",{className:"text"},n),r.a.createElement("div",{className:"content"}))},W=function(){var e=b().triggerAttackRelease,n=function(n){var t=m.getScale5(n);e(t,"8n",500)};return r.a.createElement("div",{className:"piano_scale_container container"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(U,{text:"C Scale",onClick:function(){return n("C3")}})),r.a.createElement("li",null,r.a.createElement(U,{text:"C# Scale",onClick:function(){return n("C#3")}}))))},z=function(){return r.a.createElement("div",{className:"page main-page"},r.a.createElement("div",{className:"top-wapper"},r.a.createElement(L,null),r.a.createElement(k,null)),r.a.createElement(j,null),r.a.createElement(W,null))},J=function(){return r.a.createElement("div",{className:"logo"},"PIANO")},q=function(){return r.a.createElement("header",{className:"header"},r.a.createElement(J,null))};var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,null),r.a.createElement(z,null))};t(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=t(8),Q=t(3),X={tones:m.initTones(3,4),config:{isTonePrint:!0,isKeyboradPrint:!0,isViewLion:!1}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PIANO_TRIGGER":var t=n.payload,a=e.tones.findIndex((function(e){return e.tone===t})),r=Object(l.a)(e.tones);return r[a].isValue=!0,Object(Q.a)(Object(Q.a)({},e),{},{tones:Object(l.a)(r)});case"PIANO_RELEASE":var c=n.payload,i=e.tones.findIndex((function(e){return e.tone===c})),o=Object(l.a)(e.tones);return o[i].isValue=!1,Object(Q.a)(Object(Q.a)({},e),{},{tones:Object(l.a)(o)});case"SET_PRINT_TONE":return Object(Q.a)(Object(Q.a)({},e),{},{isPrintTone:n.payload});case"SET_CONFIG":return Object(Q.a)(Object(Q.a)({},e),{},{config:Object(Q.a)(Object(Q.a)({},e.config),{},Object(H.a)({},n.payload.name,n.payload.value))});default:return e}},Z=t(15),ee=t(27),ne=Object(Z.c)({piano:Y}),te=Object(Z.d)(ne,Object(Z.a)(ee.a));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.a,{store:te},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.a10a58bf.chunk.js.map