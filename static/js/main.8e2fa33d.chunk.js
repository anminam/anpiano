(this.webpackJsonpanpiano=this.webpackJsonpanpiano||[]).push([[0],{13:function(e,t,n){e.exports=n(28)},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),o=n(11),i=n.n(o),r=n(4),u=n(3),l=n(12),s=n(0),f=n(1),v=function(){function e(){Object(s.a)(this,e)}return Object(f.a)(e,null,[{key:"makeScale",value:function(e){return this.sacleWhite.map((function(t){return t+e}))}},{key:"makeScaleAll",value:function(e){var t=this,n=[];return this.sacleWhite.forEach((function(a){n.push(a+e),t.sacleBlack.includes(a)&&n.push(a+"#"+e)})),n}},{key:"getKeyTones",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return this.makeScaleAll(e);for(var n=[],a=e;a<=t;a++)n=[].concat(Object(r.a)(n),Object(r.a)(this.makeScaleAll(a)));return n}},{key:"getScale5",value:function(e){return["C3","D3","E3","F3","G3","F3","E3","D3","C3"]}},{key:"getKeyToTone",value:function(e){var t,n={a:"C3",w:"C#3",s:"D3",e:"D#3",d:"E3",f:"F3",t:"F#3",g:"G3",y:"G#3",h:"A3",u:"A#3",j:"B3",i:"B#3",k:"C4"};return n.hasOwnProperty(e)&&(t=n[e]),t}},{key:"getBlackPosition",value:function(e){if(!e.includes("#"))return 0;var t=e.replace("#",""),n=document.querySelector("[data-tone=".concat(t,"]"));return((null===n||void 0===n?void 0:n.getBoundingClientRect().x)||0)+this.positionStart}}]),e}();v.sacleWhite=["C","D","E","F","G","A","B"],v.sacleBlack=["C","D","F","G","A"],v.positionStart=30;var d=n(9),h=(new d.a).toDestination(),m=function(e){var t=e.tone,n=(e.tones,e.trigger),o=Object(a.useState)(),i=Object(u.a)(o,2),r=i[0],l=i[1],s=Object(a.useState)(!1),f=Object(u.a)(s,2),d=f[0],m=f[1],k=Object(a.useState)(!1),y=Object(u.a)(k,2),g=y[0],p=y[1];Object(a.useEffect)((function(){p(!!n)}),[n]),Object(a.useEffect)((function(){l(v.getBlackPosition(t))}),[t]),Object(a.useEffect)((function(){g?(m(!0),b()):m(!1)}),[g]);var b=function(){h.triggerAttackRelease(t,"8n")},E="key ".concat(t.includes("#")?"black":""," ").concat(d?"active":"");return c.a.createElement("div",{className:E,style:{left:r},onMouseDown:function(){p(!0),setTimeout((function(){p(!1)}),500)},"data-tone":t},c.a.createElement("span",{className:"key__name"},t))},k=function(e){Object(l.a)(e);var t=Object(a.useState)(),n=Object(u.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)((function(){var e=v.getKeyTones(3,4),t=[];e.forEach((function(e){t.push({tone:e,isValue:!1})})),i(t)}),[]);var s=function(e,t){if(void 0!==t&&-1!==t&&o)try{if(o){var n=Object(r.a)(o);n[t].isValue=e,i(n)}}catch(a){}};return c.a.createElement("div",{className:"piano-kyes",onKeyPress:function(e){var t=e.key,n=v.getKeyToTone(t),a=null===o||void 0===o?void 0:o.findIndex((function(e){return e.tone===n}));s(!0,a)},onKeyUp:function(e){var t=e.key,n=v.getKeyToTone(t),a=null===o||void 0===o?void 0:o.findIndex((function(e){return e.tone===n}));s(!1,a)},tabIndex:0},c.a.createElement("div",{className:"piano-kyes__whites"},o&&o.map((function(e){return c.a.createElement(m,{key:e.tone,tone:e.tone,trigger:e.isValue})}))))},y=(new d.a).toDestination();var g=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(k,null),c.a.createElement("button",{onClick:function(){var e=v.getScale5("C3"),t=d.b();e.forEach((function(e,n){return y.triggerAttackRelease(e,"8n",t+.2*n)}))}},"\ud654\uc74c")))};n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.8e2fa33d.chunk.js.map