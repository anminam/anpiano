(this.webpackJsonpanpiano=this.webpackJsonpanpiano||[]).push([[0],{23:function(e,n,t){e.exports=t.p+"static/media/lion.210fda4e.png"},29:function(e,n,t){e.exports=t(51)},50:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var a=t(4),r=t.n(a),i=t(17),o=t.n(i),c=t(21),u=t(5),l=t(0),s=t(1),m=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"makeScale",value:function(e){return this.sacleWhite.map((function(n){return n+e}))}},{key:"makeScaleAll",value:function(e){var n=this,t=[];return this.sacleWhite.forEach((function(a){t.push(a+e),n.sacleBlack.includes(a)&&t.push(a+"#"+e)})),t}},{key:"getKeyTones",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===n)return this.makeScaleAll(e);for(var t=[],a=e;a<=n;a++)t=[].concat(Object(u.a)(t),Object(u.a)(this.makeScaleAll(a)));return t}},{key:"initTones",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.getKeyTones(n,t),r=[];return a.forEach((function(e){r.push({tone:e,isValue:!1})})),r}},{key:"getScale5",value:function(e){return["C3","D3","E3","F3","G3","F3","E3","D3","C3"]}},{key:"getKeyToTone",value:function(n){var t;return e.keyObj.hasOwnProperty(n)&&(t=e.keyObj[n]),t}},{key:"getKeyByTone",value:function(e){var n=this;return Object.keys(this.keyObj).find((function(t){return n.keyObj[t]===e}))}},{key:"getBlackPosition",value:function(e){if(!e.includes("#"))return 0;var n=e.replace("#",""),t=document.querySelector("[data-tone=".concat(n,"]"));return((null===t||void 0===t?void 0:t.offsetLeft)||0)+this.positionStart}},{key:"isPrime",value:function(e){return!e.includes("E")&&!e.includes("B")}}]),e}();m.sacleWhite=["C","D","E","F","G","A","B"],m.sacleBlack=["C","D","F","G","A"],m.keyObj={a:"C3",w:"C#3",s:"D3",e:"D#3",d:"E3",f:"F3",t:"F#3",g:"G3",y:"G#3",h:"A3",u:"A#3",j:"B3",i:"B#3",k:"C4"},m.positionStart=30;var f=function(e){return{type:"PIANO_TRIGGER",payload:e}},p=function(e){return{type:"PIANO_RELEASE",payload:e}},d=function(e,n){return{type:"SET_CONFIG",payload:{name:e,value:n}}},b=t(7),v=function(){var e=Object(b.c)((function(e){return e.piano.tones})),n=Object(b.b)(),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;n(f(e)),setTimeout((function(){n(p(e))}),t)},a=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&e(),setInterval(e,n)};return{tones:e,downKey:function(e){n(f(e))},upKey:function(e){n(p(e))},autoDown:t,triggerAttackRelease:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(Array.isArray(e))var i=Object(u.a)(e),o=a((function(){var e=i.pop();e?t(e):clearInterval(o)}),r,!0);else t(e,r)}}},y=t(6),h=new(t(28).a)({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3","D#6":"Ds6.mp3","F#6":"Fs6.mp3",A6:"A6.mp3",C7:"C7.mp3","D#7":"Ds7.mp3","F#7":"Fs7.mp3",A7:"A7.mp3",C8:"C8.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}).toDestination(),O=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"trigger",value:function(e){h.triggerAttackRelease(e,"8n")}},{key:"triggerAttackRelease",value:function(e,n,t,a){}}]),e}(),k=function(e){var n=e.tone,t=e.isActive,i=e.onMouseDown,o=e.onMouseUp,c=Object(b.c)((function(e){return e.piano.config.isTonePrint})),u=Object(b.c)((function(e){return e.piano.config.isKeyboradPrint})),l=Object(a.useState)(),s=Object(y.a)(l,2),f=s[0],p=s[1],d=Object(a.useState)(m.isPrime(n)),v=Object(y.a)(d,1)[0];Object(a.useEffect)((function(){p(m.getBlackPosition(n))}),[n]);var h="key ".concat(n.includes("#")?"black":"white"," ").concat(v?"prime":"","\n  ").concat(t?"active":"");return Object(a.useEffect)((function(){t&&O.trigger(n)}),[t]),r.a.createElement("div",{className:h,style:{left:f},onMouseDown:function(){return i(n)},onMouseUp:function(){return o(n)},"data-tone":n},r.a.createElement("div",{className:"label"},u&&r.a.createElement("div",{className:"key__key_name"},m.getKeyByTone(n)),c&&r.a.createElement("div",{className:"key__tone_name"},n)))},g=function(e){Object(c.a)(e);var n=v(),t=n.tones,a=n.downKey,i=n.upKey,o=function(e){var n=m.getKeyToTone(e);if(!n)return null;var a=null===t||void 0===t?void 0:t.findIndex((function(e){return e.tone===n})),r=t[a];return r?r.tone:null},u=function(e){a(e)},l=function(e){i(e)};return r.a.createElement("div",{className:"piano-kyes",onKeyPress:function(e){var n=o(e.key);n&&a(n)},onKeyUp:function(e){var n=o(e.key);n&&i(n)},tabIndex:0},r.a.createElement("div",{className:"piano-kyes__whites"},t&&t.map((function(e){return r.a.createElement(k,{key:e.tone,tone:e.tone,onMouseDown:u,onMouseUp:l,isActive:e.isValue})}))))},E=function(){var e=Object(b.b)(),n=Object(b.c)((function(e){return e.piano.config.isTonePrint})),t=Object(b.c)((function(e){return e.piano.config.isKeyboradPrint})),a=Object(b.c)((function(e){return e.piano.config.isViewLion}));return r.a.createElement("div",{className:"piano_config"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{type:"checkbox",id:"isPrintBox",checked:n,onChange:function(n){var t=n.target.checked;e(d("isTonePrint",t))}}),r.a.createElement("label",{htmlFor:"isPrintBox"},"\uc74c\uacc4 \ubcf4\uc774\uae30")),r.a.createElement("li",null,r.a.createElement("input",{type:"checkbox",id:"isKeyboardPrintCheckBox",checked:t,onChange:function(n){var t=n.target.checked;e(d("isKeyboradPrint",t))}}),r.a.createElement("label",{htmlFor:"isKeyboardPrintCheckBox"},"\ud0a4\ubcf4\ub4dc \ubcf4\uc774\uae30")),r.a.createElement("li",null,r.a.createElement("input",{type:"checkbox",id:"isViewLionCheckBox",checked:a,onChange:function(n){return e(d("isViewLion",n.target.checked))}}),r.a.createElement("label",{htmlFor:"isViewLionCheckBox"},"\ub77c\uc774\uc5b8 \ubcf4\uc774\uae30"))))},j=t(10),A=t(11),C=t(23),x=t.n(C);function w(){var e=Object(j.a)(["\n  width: 100%;\n"]);return w=function(){return e},e}var N=A.a.img(w()),D=function(e){var n=e.className;e.size;return r.a.createElement("div",{className:n},r.a.createElement(N,{src:x.a}))};function F(){var e=Object(j.a)(["\n  width: ",";\n  height: ",";\n  background: radial-gradient(\n    50% 50%,\n    rgba(150, 150, 150, 1),\n    rgba(150, 150, 150, 0.05)\n  );\n  position: absolute;\n  top: calc("," + "," + "," - 1.5 * ",");\n  left: calc(50% - "," / 2);\n  // animation-name: ",";\n  animation-duration: ",";\n  animation-direction: alternate;\n  animation-timing-function: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n  animation-iteration-count: infinite;\n"]);return F=function(){return e},e}function P(){var e=Object(j.a)(["\n  width: ",";\n  position: absolute;\n  bottom: 10px;\n  animation-name: ",";\n  animation-duration: ",";\n  animation-direction: alternate;\n  animation-timing-function: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n  // animation-iteration-count: unset;\n"]);return P=function(){return e},e}function T(){var e=Object(j.a)(["\n  width: ",";\n  min-width: ",";\n  background-color: black;\n  position: relative;\n"]);return T=function(){return e},e}function _(){var e=Object(j.a)(["\n  from {\n    transform: scale(0.2, 0.5);\n  }\n  to {\n    transform: scale(1.5, 0.8);\n  }\n"]);return _=function(){return e},e}function B(){var e=Object(j.a)(["\n  0%   {transform: translatey(0px);}\n  20%  {transform: translatey(-100px);}\n  25%  {transform: translatey(-110px);}\n  80%  {transform: translatey(0px);}\n  82%  {transform: translatey(-5px);}\n  90%  {transform: translatey(0px);}\n  92%  {transform: translatey(-3px);}\n  100% {transform: translatey(0);}\n"]);return B=function(){return e},e}var K="".concat(Math.round(9.6),"px"),S=Object(A.b)(B()),I=Object(A.b)(_()),G=A.a.div(T(),"60px","60px"),R=Object(A.a)(D)(P(),"60px",S,"1s"),V=A.a.div(F(),"60px",K,"40px","200px","60px",K,"60px",I,"1s");var L=function(){var e=Object(b.c)((function(e){return e.piano.config.isViewLion}));return r.a.createElement(G,{className:e?"":"none"},r.a.createElement(R,{className:"lion",size:"60px"}),r.a.createElement(V,null))},M=function(e){var n=e.text,t=e.onClick;return r.a.createElement("button",{className:"mini",onClick:t},r.a.createElement("span",{className:"text"},n),r.a.createElement("div",{className:"content"}))},U=function(){var e=v().triggerAttackRelease;return r.a.createElement("div",{className:"piano_scale_container"},r.a.createElement(M,{text:"C Scale",onClick:function(){var n=m.getScale5("C3");e(n,"8n",500)}}))};var W=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"top-wapper"},r.a.createElement(L,null),r.a.createElement(g,null)),r.a.createElement(E,null),r.a.createElement(U,null)))};t(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=t(8),J=t(3),q={tones:m.initTones(3,4),config:{isTonePrint:!0,isKeyboradPrint:!1,isViewLion:!1}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"PIANO_TRIGGER":var t=n.payload,a=e.tones.findIndex((function(e){return e.tone===t})),r=Object(u.a)(e.tones);return r[a].isValue=!0,Object(J.a)(Object(J.a)({},e),{},{tones:Object(u.a)(r)});case"PIANO_RELEASE":var i=n.payload,o=e.tones.findIndex((function(e){return e.tone===i})),c=Object(u.a)(e.tones);return c[o].isValue=!1,Object(J.a)(Object(J.a)({},e),{},{tones:Object(u.a)(c)});case"SET_PRINT_TONE":return Object(J.a)(Object(J.a)({},e),{},{isPrintTone:n.payload});case"SET_CONFIG":return Object(J.a)(Object(J.a)({},e),{},{config:Object(J.a)(Object(J.a)({},e.config),{},Object(z.a)({},n.payload.name,n.payload.value))});default:return e}},H=t(15),Q=t(27),X=Object(H.c)({piano:$}),Y=Object(H.d)(X,Object(H.a)(Q.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,{store:Y},r.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.cf985024.chunk.js.map